---
title: CAP理论
date: 2021-07-16
categories: [分布式]
tags: [分布式,CAP]
draft: true
---

## CAP理论

- `Consistency`  数据一致性，多个副本写入之后再读取数据都是一致的，都是更新之后的最新值
- `Availability`  高可用性，集群中的多个节点如果其中有几个节点挂了则还可以继续响应
- `Partition-tolerance`  分区容错性，集群的节点之间如果出现网络中断则会出现多个分区，多个分区之间不能通讯

三者之间不能同时满足，因为如果出现网络中断出现分区，则多个节点之间的数据还要保持一致性并且还要提供给用户访问这是不可能的

分布式系统中，`P`是一定会出现的，如果没有P则代表 **不允许出现网络分区**。也就是说保证网络必须连通不能中断，这是不可能的。也就是说如果处于这种模式下则代表这个不是一个分布式系统，而是一个单体架构才可以保证不出现网络分区

由于不出现网络分区往往不是分布式系统，分布式系统就一定会出现网络分区`P`，所以分布式理论中只需要追求 `CP`或则`AP`即可

​      

## AP

**为了保障服务的高可用，牺牲数据一致性**

​    

## CP

**保持数据的一致性，牺牲高可用**

CP的代表有

- zookeeper
- etcd
- consul

