---
title: 滴滴SRE二面
date: 2021-08-10
categories: [面试]
tags: [面试]
draft: true
---

## 滴滴SRE二面

> 用命令清空100G的文件内容清空但是文件还保留，有哪几种方法

我的回答

```bash
echo "" > file
```

Linux高效率清空大文件的几种方式: 

```bash
: > filename #:是一个占位符,不产生任何输出
> filename
echo "" > filename
echo > filename
cat /dev/null > filename
cp /dev/null filename 
```

参考: [Linux 下清空或删除大文件内容的 5 种方法](https://linux.cn/article-8024-1.html)

​    

> 如何快速将一个文件变为100G

我的回答: 

- 循环输入100G的字节 (面试官怼: 那要输到何年何月?
- 并发的输入到多个文件，然后最后将多个文件合并为一个文件

面试官提示: `dd` 命令用过吗?  回答: 没有

`dd`命令要好好查看文档了,这命令感觉很重要，但是平时没用过 QAQ....

```bash
dd if=/dev/zero of=test bs=1G count=100 #生成100G大小的文件
```

​    

> `ls -l /bin/ls` 命令结果

> `chmod 644 filename` 是什么意思? 644如何计算?

我: 有点忘了权限怎么计算了，`644`这种我觉得计算太麻烦所以没关注，我使用的是`chmod u+x filename` 类似这种 （尴尬一笑...

面试官: 你对Linux权限这块好像不是很熟.... (面试官疯狂提示，我还是不会。。。

文件权限计算总结: 

```bash
文件类型:ower:group:other
-rwxr-x-wx
 421401021
```

​     

> vim 100行的每一行开头加上`#`怎么处理

我: `%s/^/要添加的内容`

面试官: vim宏录制知道吗

总结:

```bash
:%s/^/要添加的内容 #每行开头
:%s/$/要添加的内容 #每行结尾
```

vim宏录制 (更高级用法需要再肝一篇博客了

```bash
#重复输入100行hello,world
q+宏名 #开始录制
q #结束录制
@宏名 重复动作
100@宏名 #重复100次
```

使用宏录制可以完成上面每行加`#`的功能

​     

> `a.b.c.d` 用awk进行逆序

我: `awk -F '.'  '{print $4,$3,$2,$1}' OFS="."  a `

面试官: 哈哈哈，这是一个比较取巧的方法，不过也可以

我: 肯定有其他方法，一下子想不出了.... (尴尬一笑

​    

> 向10台机器发请求，其中5台机器是另外5台流量的5倍

我: 将5台高流量的机器的IP复制5倍然后将所有IP放到一个集合里面，在这个集合里面随机获取IP进行请求

​    

> 本地库和远程仓库冲突，如何用远程库覆盖本地

我: 本地reset到没冲突的commit，然后再和远程仓库的代码rebase一下

​    

> 36批马同时有6个比赛场地并且每个比赛场地有6条赛道，手中没有计时器，如何能最快选出跑最快的3匹马

面试官提示: 一个场地可以选前3条最快的马

我: 分别选出6个场地中最快的1匹马，然后再将最快的6匹马放到一个场地里面选出最快的1匹马; 重复上面步骤3次即可

面试官: 这个不是最优解，再想想

我: 1,2两个场地选出分别选出前3名，这样就选出1,2场地的前6名，然后前6名再比一次就选出了1,2场地的前3名

同理选出3,4场地的前3名

让后将1,2,3,4场地的前6名再比一次就可以选出1,2,3,4场地的前3名

同理选出5,6场地的前3名

同理让1,2,3,4场地的前3名和5,6场地的前3名再放在一个场地里面比赛选出1,2,3,4,5,6的前3名

​    

> 说一下docker和虚拟机的区别

namespace和cgroups说一通

​     

> 说一下channel的原理

八股文说一通

​     

> `abcdefghijk` 行转化为列，用两种语言实现

我: go、c吧 (一维数组转二维数组光速写好

​     

> 你对SRE的看法

吧啦吧啦.... 面试官打断: 好，那就不讲了，我就直接问我关心的问题吧

> 1. 会来北京吗
> 2. 实习时间
> 3. 秋招和实习是否冲突，实习了还会参加秋招吗

最后面试官和我说了下滴滴SRE都是做什么的，以及公司内部的一些东西，内部资源结算等     

> 面试反问环节

1. 我比较好奇内部结算系统的目的是什么?  为什么公司内部还要付钱? 因为我第一次听说

2. 实习生转正情况，部门实习生情况

